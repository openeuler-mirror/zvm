# Copyright 2021-2022 HNU
# SPDX-License-Identifier: Apache-2.0

# Basic board infomation
CONFIG_SOC_QEMU_CORTEX_MAX=y
CONFIG_BOARD_QEMU_CORTEX_MAX=y
CONFIG_QEMU_ICOUNT=n

# SMP support
CONFIG_SMP=y
CONFIG_MP_NUM_CPUS=4
CONFIG_CACHE_MANAGEMENT=y
CONFIG_TIMEOUT_64BIT=y
CONFIG_ARMV8_A_NS=y

# PSCI is supported
CONFIG_PM_CPU_OPS=y
CONFIG_PM_CPU_OPS_PSCI=y

# Enable Timer and Sys clock
CONFIG_SYS_CLOCK_TICKS_PER_SEC=1000
CONFIG_ARM_ARCH_TIMER=y

# Enable serial port
CONFIG_SERIAL=y
CONFIG_UART_PL011=y
CONFIG_UART_PL011_PORT0=y
CONFIG_UART_PL011_PORT1=y
CONFIG_UART_INTERRUPT_DRIVEN=y

# Enable console
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y

# Threads stacks
CONFIG_ISR_STACK_SIZE=8192
CONFIG_IDLE_STACK_SIZE=8192
CONFIG_MAIN_STACK_SIZE=8192
CONFIG_SHELL_STACK_SIZE=16384
CONFIG_THREAD_STACK_INFO=y

# make more table for host's pgd
CONFIG_MAX_XLAT_TABLES=16
# make more table for vm's pgd
CONFIG_ZVM_ZEPHYR_MAX_XLAT_TABLES=128
CONFIG_ZVM_LINUX_MAX_XLAT_TABLES=1024

